{"ast":null,"code":"var _jsxFileName = \"D:\\\\IBA Project\\\\back\\\\front\\\\src\\\\components\\\\Competitions.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport Select from 'react-select';\nimport Seasons from './Seasons';\nimport '../styles/Competitions.css';\nimport { Context } from './context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Competitions = ({\n  competitions\n}) => {\n  _s();\n\n  const [seasons, setSeasons] = useState([]);\n  const [changed, setChanged] = useState(false);\n  const [defaultSeasonValue, setDefaultSeasonValue] = useState({});\n  const {\n    show,\n    setShow\n  } = useContext(Context);\n\n  const renderSeasons = e => {\n    axios.get(`http://localhost:4000/app/getSeasons/${e.id}`).then(res => res.data).then(res => {\n      for (let i = 0; i < res.length; i++) {\n        seasons[i] = {\n          \"value\": res[i].name,\n          \"label\": res[i].name,\n          \"id\": res[i]._id\n        };\n      }\n\n      ;\n      setSeasons(seasons);\n    }).then(() => {\n      if (seasons.length > 0) {\n        setDefaultSeasonValue({\n          \"value\": seasons[seasons.length - 1].value,\n          \"label\": seasons[seasons.length - 1].label,\n          \"id\": seasons[seasons.length - 1].id\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    setChanged(true);\n  }, [defaultSeasonValue]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"b\", {\n      children: \"The Competition:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Select, {\n      className: \"select\",\n      onChange: e => {\n        renderSeasons(e);\n        setShow(false);\n      },\n      options: competitions,\n      placeholder: \"Please select a Competition...\",\n      onMenuOpen: () => {\n        setChanged(false);\n        setSeasons([]);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Seasons, {\n      defaultSeasonValue: defaultSeasonValue,\n      competitions: competitions,\n      seasons: seasons,\n      changed: changed\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Competitions, \"ET9XBzBohXrL5bLQeIlt8r/bzcU=\");\n\n_c = Competitions;\nexport default Competitions;\n\nvar _c;\n\n$RefreshReg$(_c, \"Competitions\");","map":{"version":3,"sources":["D:/IBA Project/back/front/src/components/Competitions.js"],"names":["React","useState","useEffect","useContext","axios","Select","Seasons","Context","Competitions","competitions","seasons","setSeasons","changed","setChanged","defaultSeasonValue","setDefaultSeasonValue","show","setShow","renderSeasons","e","get","id","then","res","data","i","length","name","_id","value","label"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useContext} from 'react';\r\nimport axios from 'axios';\r\nimport Select from 'react-select';\r\nimport Seasons from './Seasons';\r\nimport '../styles/Competitions.css';\r\nimport { Context } from './context';\r\n\r\nconst Competitions = ({competitions}) => {\r\n    const [seasons,setSeasons] = useState([]);\r\n    const [changed, setChanged] = useState(false);\r\n    const [defaultSeasonValue, setDefaultSeasonValue] = useState({});\r\n    \r\n    const {show, setShow} = useContext(Context);\r\n\r\n    const renderSeasons = (e) => {\r\n        axios.get(`http://localhost:4000/app/getSeasons/${e.id}`)\r\n            .then(res => res.data)\r\n            .then(res => {\r\n                for(let i = 0; i < res.length; i++) {\r\n                    seasons[i] = {\r\n                        \"value\": res[i].name,\r\n                        \"label\": res[i].name,\r\n                        \"id\": res[i]._id\r\n                     }\r\n                };\r\n                setSeasons(seasons);\r\n            })\r\n            .then(() => {\r\n                if(seasons.length > 0) {\r\n                    setDefaultSeasonValue({\r\n                        \"value\": seasons[seasons.length-1].value,\r\n                        \"label\": seasons[seasons.length-1].label,\r\n                        \"id\": seasons[seasons.length-1].id\r\n                    })\r\n                }\r\n            })\r\n    }\r\n        useEffect(() => {\r\n            setChanged(true);\r\n        }, [defaultSeasonValue])\r\n    \r\n\r\n    return (\r\n        <div>\r\n            <b>The Competition:</b>\r\n            <Select\r\n                className = \"select\"\r\n                onChange = {(e) => {\r\n                    renderSeasons(e);\r\n                    setShow(false);\r\n                }}\r\n                options = {competitions}\r\n                placeholder = 'Please select a Competition...'\r\n                onMenuOpen = {() => {\r\n                    setChanged(false);\r\n                    setSeasons([]);\r\n                }}\r\n            />\r\n            <Seasons\r\n                defaultSeasonValue={defaultSeasonValue}\r\n                competitions = {competitions}\r\n                seasons = {seasons}\r\n                changed = {changed}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Competitions;"]},"metadata":{},"sourceType":"module"}